<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>å…’å°‘æ”¿ç­–äº’å‹•é¸æ“‡</title>
<link rel="stylesheet" href="style.css">
<style>
body {
    background-color: black;
    color: #00FF00;
    font-family: monospace;
    padding: 20px;
}
.policy {
    margin: 10px 0;
    cursor: pointer;
}
.policy:hover {
    color: #00FFFF;
}
.title {
    font-size: 1.5em;
    margin-bottom: 20px;
    color: #FF5555;
}
#terminal {
    margin-top: 20px;
    white-space: pre;
}
.ansi-green { color: #00FF00; }
.ansi-cyan { color: #00FFFF; }
.ansi-red { color: #FF5555; }
</style>
</head>
<body>
<div class="title">ğŸ’» å…’å°‘æ”¿ç­–äº’å‹•æ¨¡æ“¬ - Select a Policy / é¸æ“‡æ”¿ç­–</div>
<div id="policyList"></div>
<div id="terminal"></div>

<script>
// æ”¿ç­–è³‡æ–™
const policies = [
    {id:1, name:"å…¨æ°‘æ°£å€™è¡Œå‹•æ—¥", log:"system executes: nationwide_climate_action protocol...", category:"env"},
    {id:2, name:"è¸è’‚ä¸è½åœ°", log:"system executes: cigarette_litter_reduction module...", category:"env"},
    {id:3, name:"ç¶ è‰²é€šå‹¤æ›´å®¹æ˜“", log:"sustainability.module: computing urban mobility impact...", category:"env"},
    {id:4, name:"ç¤¾å€å…¬åœ’ Ã— æ¨¹æ›´å¤š", log:"system deploys: urban_park_expansion...", category:"env"},
    {id:5, name:"æ¸›å¡‘æ—¥è¡Œå‹•ï¼", log:"system executes: plastic_reduction_day...", category:"env"},
    {id:6, name:"è¸å“æ¸›å®³è¨­è¨ˆ", log:"system enforces: biodegradable_filter regulation...", category:"env"},
    {id:7, name:"æ™ºæ…§3Cè¨­è¨ˆ", log:"system executes: smart_3C_device regulation...", category:"digital"},
    {id:8, name:"å¥åº·ä½¿ç”¨3Cæ•™è‚²", log:"system deploys: 3C_health_education...", category:"digital"},
    {id:9, name:"æ ¡åœ’ç„¡3Cæ—¥", log:"system executes: no_3C_day...", category:"digital"},
    {id:10, name:"æ•¸ä½æ€§å‰å‰Šé›¶å®¹å¿", log:"system enforces: zero_tolerance_policy...", category:"digital"},
    {id:11, name:"åª’é«”å…±åŒå®ˆè­·", log:"system executes: media_awareness_campaign...", category:"digital"},
    {id:12, name:"å…¨æ ¡å­¸ç”Ÿæœƒè­°åˆ¶åº¦åŒ–", log:"system executes: student_council_meeting protocol...", category:"participate"}
];

const policyList = document.getElementById("policyList");
const terminal = document.getElementById("terminal");

// æ‰“å­—æ©Ÿæ•ˆæœ
function typewriter(element, text, delay = 30, callback){
    let i = 0;
    function write(){
        if(i < text.length){
            element.innerHTML += text.charAt(i);
            i++;
            setTimeout(write, delay);
        } else {
            if(callback) callback();
        }
    }
    write();
}

// loading bar
function showLoading(callback){
    const stages = ["[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’â–’â–’â–’â–’â–’â–’] 35% æ›´æ–°ä¸­...\n",
                    "[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’â–’â–’] 50% æ›´æ–°ä¸­...\n",
                    "[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’] 75% æ›´æ–°ä¸­...\n",
                    "[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% æ›´æ–°å®Œæˆ!\n"];
    let i = 0;
    function next(){
        if(i < stages.length){
            terminal.innerHTML += stages[i];
            i++;
            setTimeout(next, 300);
        } else {
            if(callback) callback();
        }
    }
    next();
}

// å»ºç«‹æ”¿ç­–åˆ—è¡¨
policies.forEach(p=>{
    const div = document.createElement("div");
    div.className = "policy";
    div.innerHTML = `#${p.id} ${p.name} <br><span style="color:#AAAAAA;">${p.log}</span>`;
    div.onclick = ()=>{
        policyList.style.display = "none"; // éš±è—åˆ—è¡¨
        typewriter(terminal, "> initializing policy execution: " + p.name + "\n", 40, ()=>{
            showLoading(()=>{
                typewriter(terminal, "\n> execution complete. redirecting...\n", 40, ()=>{
                    // æ±ºå®šæ¨¡æ¿é 
                    let targetPage = "participate.html";
                    if(p.category === "env") targetPage = "env.html";
                    if(p.category === "digital") targetPage = "digital.html";
                    window.location.href = `${targetPage}?id=${p.id}`;
                });
            });
        });
    };
    policyList.appendChild(div);
});
</script>
</body>
</html>
